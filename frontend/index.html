<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Naval Recce</title>
    <!-- Export libraries -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://unpkg.com/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <!-- Alternative jsPDF source if first fails -->
    <script>
      // Fallback loading for jsPDF
      setTimeout(() => {
        if (typeof window.jsPDF === 'undefined') {
          console.log('⚠️ Loading jsPDF from alternative source...');
          const script = document.createElement('script');
          script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';
          script.onload = () => console.log('✅ jsPDF loaded from alternative source');
          script.onerror = () => console.error('❌ Failed to load jsPDF from alternative source');
          document.head.appendChild(script);
        }
      }, 2000);
    </script>
    <script>
      // More detailed library loading check
      let libraryCheckInterval = setInterval(() => {
        const html2canvasLoaded = typeof window.html2canvas !== 'undefined';
        const jsPDFLoaded = typeof window.jsPDF !== 'undefined';
        
        console.log('Library check - html2canvas:', html2canvasLoaded, 'jsPDF:', jsPDFLoaded);
        
        if (html2canvasLoaded && jsPDFLoaded) {
          console.log('✅ All export libraries loaded successfully');
          clearInterval(libraryCheckInterval);
        }
      }, 1000);
      
      // Timeout after 10 seconds
      setTimeout(() => {
        clearInterval(libraryCheckInterval);
        if (typeof window.html2canvas === 'undefined') {
          console.error('❌ html2canvas failed to load');
        }
        if (typeof window.jsPDF === 'undefined') {
          console.error('❌ jsPDF failed to load');
        }
      }, 10000);
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
